{% extends "layout.html" %}
{% block title %}
    Your Uploads
{% endblock %}
<!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/7.17.1/firebase-app.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
<script src="https://www.gstatic.com/firebasejs/7.17.1/firebase-analytics.js"></script>

<script>
  // Your web app's Firebase configuration
  var firebaseConfig = {
    apiKey: "AIzaSyCxJHDbWuqrrQVpK9O0zA5sKRMbjFKDZuE",
    authDomain: "vital-stack-181714.firebaseapp.com",
    databaseURL: "https://vital-stack-181714.firebaseio.com",
    projectId: "vital-stack-181714",
    storageBucket: "vital-stack-181714.appspot.com",
    messagingSenderId: "26206636594",
    appId: "1:26206636594:web:41c81a16afa95622c38a2b",
    measurementId: "G-25W1SB4GJ4"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  firebase.analytics();

</script>
{% block main %}

<img id="output"/>

<form enctype="multipart/form-data" action="/live" method="post">
  <div class="form-group">
      <input required autocomplete="off" autofocus class="form-control" name="heading" placeholder="heading" type="text"/>
  </div>
   <div class="form-group">
    <input required autocomplete="off" autofocus class="form-control" name="image" placeholder="Enter an image" type="file" onchange="loadFile(event)"/>
  </div>
   <div class="form-group">
      <input required autocomplete="off" autofocus class="form-control" name="desc" placeholder="Enter description" type="text"/>
  </div>
  <button class="btn btn-primary" type="submit">Upload</button>
</form>

<script>
  var loadFile = function(event) {
    var output = document.getElementById('output');
    output.src = URL.createObjectURL(event.target.files[0]);
    output.onload = function() {
      URL.revokeObjectURL(output.src) // free memory
    }
  };
</script>

{% endblock %}